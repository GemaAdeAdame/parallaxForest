{"ast":null,"code":"import _slicedToArray from \"C:/Users/ana96/OneDrive/Documentos/GitHub/parallaxForest/Front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\ana96\\\\OneDrive\\\\Documentos\\\\GitHub\\\\parallaxForest\\\\Front\\\\src\\\\components\\\\Mapa\\\\mapa.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet-css';\nimport 'leaflet-geosearch/dist/geosearch.css';\nimport 'leaflet-geolocation/dist/leaflet-geolocation.css';\nimport 'leaflet-geolocation';\nimport { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Mapa = function Mapa() {\n  _s();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    map = _useState2[0],\n    setMap = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    position = _useState4[0],\n    setPosition = _useState4[1];\n  var mapRef = useRef(null);\n  useEffect(function () {\n    // Inicializar el mapa\n    var mapa = L.map(mapRef.current).setView([0, 0], 13);\n    setMap(mapa);\n\n    // Añadir capa de OpenStreetMap\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'Map data © <a href=\"https://openstreetmap.org\">OpenStreetMap</a> contributors',\n      maxZoom: 18\n    }).addTo(mapa);\n\n    // Añadir control de búsqueda de direcciones\n    var provider = new OpenStreetMapProvider();\n    var searchControl = new GeoSearchControl({\n      provider: provider,\n      style: 'bar',\n      searchLabel: 'Buscar dirección...',\n      autoClose: true\n    });\n    mapa.addControl(searchControl);\n\n    // Añadir control de geolocalización\n    var geolocationControl = L.control.geolocation({\n      position: 'topright',\n      drawCircle: true,\n      follow: false,\n      setView: true,\n      keepCurrentZoomLevel: false,\n      markerStyle: {\n        weight: 1,\n        opacity: 0.8,\n        fillOpacity: 0.8\n      },\n      circleStyle: {\n        weight: 1,\n        opacity: 0.8,\n        fillOpacity: 0.1\n      }\n    });\n    mapa.addControl(geolocationControl);\n\n    // Manejar el evento de geolocalización\n    mapa.on('locationfound', function (e) {\n      var _e$latlng = e.latlng,\n        lat = _e$latlng.lat,\n        lng = _e$latlng.lng;\n      setPosition([lat, lng]);\n      mapa.setView([lat, lng], 16);\n    });\n  }, []);\n  useEffect(function () {\n    // Añadir marcador en la posición del usuario\n    if (position && map) {\n      L.marker(position).addTo(map);\n    }\n  }, [position, map]);\n  var handleGeolocationClick = function handleGeolocationClick() {\n    map.locate({\n      setView: true,\n      maxZoom: 16\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        height: '500px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleGeolocationClick,\n      children: \"Geolocalizar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, _this);\n};\n_s(Mapa, \"OHP0STxXrtb7q3kCbHVCbpx1tA0=\");\n_c = Mapa;\nexport default Mapa;\nvar _c;\n$RefreshReg$(_c, \"Mapa\");","map":{"version":3,"names":["React","useEffect","useRef","useState","L","GeoSearchControl","OpenStreetMapProvider","jsxDEV","_jsxDEV","Mapa","_s","_useState","_useState2","_slicedToArray","map","setMap","_useState3","_useState4","position","setPosition","mapRef","mapa","current","setView","tileLayer","attribution","maxZoom","addTo","provider","searchControl","style","searchLabel","autoClose","addControl","geolocationControl","control","geolocation","drawCircle","follow","keepCurrentZoomLevel","markerStyle","weight","opacity","fillOpacity","circleStyle","on","e","_e$latlng","latlng","lat","lng","marker","handleGeolocationClick","locate","children","ref","height","fileName","_jsxFileName","lineNumber","columnNumber","_this","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ana96/OneDrive/Documentos/GitHub/parallaxForest/Front/src/components/Mapa/mapa.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport L from 'leaflet';\r\nimport 'leaflet-css';\r\nimport 'leaflet-geosearch/dist/geosearch.css';\r\nimport 'leaflet-geolocation/dist/leaflet-geolocation.css';\r\nimport 'leaflet-geolocation';\r\nimport { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';\r\n\r\nconst Mapa = () => {\r\n  const [map, setMap] = useState(null);\r\n  const [position, setPosition] = useState(null);\r\n  const mapRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Inicializar el mapa\r\n    const mapa = L.map(mapRef.current).setView([0, 0], 13);\r\n    setMap(mapa);\r\n\r\n    // Añadir capa de OpenStreetMap\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution: 'Map data © <a href=\"https://openstreetmap.org\">OpenStreetMap</a> contributors',\r\n      maxZoom: 18,\r\n    }).addTo(mapa);\r\n\r\n    // Añadir control de búsqueda de direcciones\r\n    const provider = new OpenStreetMapProvider();\r\n    const searchControl = new GeoSearchControl({\r\n      provider,\r\n      style: 'bar',\r\n      searchLabel: 'Buscar dirección...',\r\n      autoClose: true,\r\n    });\r\n    mapa.addControl(searchControl);\r\n\r\n    // Añadir control de geolocalización\r\n    const geolocationControl = L.control.geolocation({\r\n      position: 'topright',\r\n      drawCircle: true,\r\n      follow: false,\r\n      setView: true,\r\n      keepCurrentZoomLevel: false,\r\n      markerStyle: {\r\n        weight: 1,\r\n        opacity: 0.8,\r\n        fillOpacity: 0.8,\r\n      },\r\n      circleStyle: {\r\n        weight: 1,\r\n        opacity: 0.8,\r\n        fillOpacity: 0.1,\r\n      },\r\n    });\r\n    mapa.addControl(geolocationControl);\r\n\r\n    // Manejar el evento de geolocalización\r\n    mapa.on('locationfound', e => {\r\n      const { lat, lng } = e.latlng;\r\n      setPosition([lat, lng]);\r\n      mapa.setView([lat, lng], 16);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Añadir marcador en la posición del usuario\r\n    if (position && map) {\r\n      L.marker(position).addTo(map);\r\n    }\r\n  }, [position, map]);\r\n\r\n  const handleGeolocationClick = () => {\r\n    map.locate({\r\n      setView: true,\r\n      maxZoom: 16,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div ref={mapRef} style={{ height: '500px' }} />\r\n      <button onClick={handleGeolocationClick}>Geolocalizar</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mapa;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}