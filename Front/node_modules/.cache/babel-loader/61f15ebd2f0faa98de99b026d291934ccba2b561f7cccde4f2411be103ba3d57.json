{"ast":null,"code":"import _slicedToArray from \"C:/Users/ana96/OneDrive/Documentos/GitHub/parallaxForest/Front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\ana96\\\\OneDrive\\\\Documentos\\\\GitHub\\\\parallaxForest\\\\Front\\\\src\\\\components\\\\Mapa\\\\mapa.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport { fromLonLat } from 'ol/proj';\nimport Overlay from 'ol/Overlay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar MapWithLocation = function MapWithLocation() {\n  _s();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    location = _useState2[0],\n    setLocation = _useState2[1];\n  var mapRef = useRef();\n  var popupRef = useRef();\n  useEffect(function () {\n    var map = new Map({\n      target: mapRef.current,\n      layers: [new TileLayer({\n        source: new OSM()\n      })],\n      view: new View({\n        center: [0, 0],\n        zoom: 2\n      })\n    });\n    var popup = new Overlay({\n      element: popupRef.current,\n      positioning: 'bottom-center',\n      stopEvent: false\n    });\n    map.addOverlay(popup);\n    return function () {\n      map.setTarget(null);\n    };\n  }, []);\n  var handleLocationClick = function handleLocationClick() {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      setLocation({\n        lat: position.coords.latitude,\n        lng: position.coords.longitude,\n        date: new Date().toLocaleDateString()\n      });\n    });\n  };\n  useEffect(function () {\n    if (location) {\n      var point = new Point(fromLonLat([location.lng, location.lat]));\n      var feature = new Feature({\n        geometry: point\n      });\n      var map = mapRef.current.olMap;\n      var popup = popupRef.current;\n      popup.innerHTML = \"Fecha: \".concat(location.date);\n      popup.style.display = 'block';\n      popup.style.opacity = 1;\n      popup.addEventListener('mouseout', function () {\n        popup.style.display = 'none';\n      });\n      var view = map.getView();\n      view.animate({\n        center: point.getCoordinates(),\n        zoom: 13\n      });\n      setTimeout(function () {\n        popup.style.display = 'none';\n      }, 3000);\n    }\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLocationClick,\n      children: \"Obtener mi ubicaci\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        height: '400px',\n        width: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: popupRef,\n      className: \"popup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, _this);\n};\n_s(MapWithLocation, \"H4d81B+H8Aqr4+w9tydD/Lkn+WA=\");\n_c = MapWithLocation;\nexport default MapWithLocation;\nvar _c;\n$RefreshReg$(_c, \"MapWithLocation\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Map","View","TileLayer","OSM","Feature","Point","fromLonLat","Overlay","jsxDEV","_jsxDEV","MapWithLocation","_s","_useState","_useState2","_slicedToArray","location","setLocation","mapRef","popupRef","map","target","current","layers","source","view","center","zoom","popup","element","positioning","stopEvent","addOverlay","setTarget","handleLocationClick","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","date","Date","toLocaleDateString","point","feature","geometry","olMap","innerHTML","concat","style","display","opacity","addEventListener","getView","animate","getCoordinates","setTimeout","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_this","ref","height","width","className","_c","$RefreshReg$"],"sources":["C:/Users/ana96/OneDrive/Documentos/GitHub/parallaxForest/Front/src/components/Mapa/mapa.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport 'ol/ol.css';\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport OSM from 'ol/source/OSM';\r\nimport Feature from 'ol/Feature';\r\nimport Point from 'ol/geom/Point';\r\nimport { fromLonLat } from 'ol/proj';\r\nimport Overlay from 'ol/Overlay';\r\n\r\nconst MapWithLocation = () => {\r\n  const [location, setLocation] = useState(null);\r\n  const mapRef = useRef();\r\n  const popupRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const map = new Map({\r\n      target: mapRef.current,\r\n      layers: [\r\n        new TileLayer({\r\n          source: new OSM()\r\n        })\r\n      ],\r\n      view: new View({\r\n        center: [0, 0],\r\n        zoom: 2\r\n      })\r\n    });\r\n\r\n    const popup = new Overlay({\r\n      element: popupRef.current,\r\n      positioning: 'bottom-center',\r\n      stopEvent: false\r\n    });\r\n\r\n    map.addOverlay(popup);\r\n\r\n    return () => {\r\n      map.setTarget(null);\r\n    };\r\n  }, []);\r\n\r\n  const handleLocationClick = () => {\r\n    navigator.geolocation.getCurrentPosition(function (position) {\r\n      setLocation({\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude,\r\n        date: new Date().toLocaleDateString()\r\n      });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (location) {\r\n      const point = new Point(fromLonLat([location.lng, location.lat]));\r\n      const feature = new Feature({\r\n        geometry: point\r\n      });\r\n\r\n      const map = mapRef.current.olMap;\r\n\r\n      const popup = popupRef.current;\r\n      popup.innerHTML = `Fecha: ${location.date}`;\r\n\r\n      popup.style.display = 'block';\r\n      popup.style.opacity = 1;\r\n\r\n      popup.addEventListener('mouseout', () => {\r\n        popup.style.display = 'none';\r\n      });\r\n\r\n      const view = map.getView();\r\n      view.animate({\r\n        center: point.getCoordinates(),\r\n        zoom: 13\r\n      });\r\n\r\n      setTimeout(() => {\r\n        popup.style.display = 'none';\r\n      }, 3000);\r\n    }\r\n  }, [location]);\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={handleLocationClick}>Obtener mi ubicaci√≥n</button>\r\n      <div ref={mapRef} style={{ height: '400px', width: '100%' }}></div>\r\n      <div ref={popupRef} className=\"popup\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapWithLocation;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}